<div [formGroup]="formGroup">

  <div fxLayout="row">

    <mat-select *ngIf="countries?.length > 1"
                formControlName="country"
                (selectionChange)="onSelectionChange($event.value)"
                fxFlex="45px"
                #singleSelect>

      <mat-select-trigger>
        <div class="flag {{country.value.cca2}}"></div>
      </mat-select-trigger>

      <mat-option *ngIf="countries?.length > 5">
        <ngx-mat-select-search formControlName="countryFilter"
                               placeholderLabel="Search..."
                               noEntriesFoundLabel="No Results">
        </ngx-mat-select-search>
      </mat-option>

      <mat-option *ngFor="let country of filteredCountries| async" [value]="country">
        <div class="flag {{country.cca2}}"></div>
        {{country.name.common}}
      </mat-option>

    </mat-select>

    <input [id]="id"
           matInput
           type="tel"
           formControlName="phoneNumber"
           [placeholder]="placeholder"
           [errorStateMatcher]="phoneNumberErrorStateMatcher"
           (blur)="onBlur()"
           fxFlex="grow">

  </div>

</div>
